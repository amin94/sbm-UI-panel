function getCookie(o){for(var e=o+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function checkCookie(o){var e=getCookie(o);return""!=e?"cookieSet":"cookieNotSet"}function ajaxReq(o,e,t){var i,n;$(".loadingBar").addClass("active"),i=JSON.stringify(o),n={x:i},console.log(n),$.ajax({type:"POST",url:e,data:n,dataType:"json",async:!0,encode:!0}).done(function(o){$(".loadingBar").removeClass("active"),console.log("ok! Status:"+o.status),console.log(o),"logOut"===t?"loggedOut"===o.status?(Cookies.remove("sbm_token"),Cookies.remove("dId"),Cookies.remove("cId"),window.location.href="http://amins-macbook-pro.local:5757/sabetmikonimv2/"):swal({title:"خطا!",text:" خطایی رخ داده است! ",icon:"error",button:"تلاش مجدد"}):"securityError"===o.status?(Cookies.remove("sbm_token"),Cookies.remove("dId"),Cookies.remove("cId"),swal({title:"خطا!",text:" خطای امنیتی رخ داده است! ",icon:"error",button:"تلاش مجدد"}),setTimeout(function(){window.location.href="http://amins-macbook-pro.local:5757/sabetmikonimv2/"},800)):callbackAjaxReq(o,t)}).fail(function(o){$(".loadingBar").removeClass("active"),console.log("no! "+o.status),console.log(o),swal({title:"خطا!",text:"متاسفانه ارتباط با سرور قطع شده است.",icon:"error",button:"تماس با پشتیبانی: ۲۸۴۲۵۷۳۳ - ۰۲۱"})})}$(document).ready(function(){var o=window.location.href;"cookieNotSet"===checkCookie("sbm_token")?(setCookie("redirect_url",o,1),window.location.href="http://amins-macbook-pro.local:5757/sabetmikonimv2/index.php?redirect=true"):"cookieSet"===checkCookie("sbm_token")||(setCookie("redirect_url",o,1),window.location.href="http://amins-macbook-pro.local:5757/sabetmikonimv2/index.php?redirect=true"),$("a[name=logOutPanel]").click(function(o){o.preventDefault();var e=getCookie("sbm_token"),t={cookie:e};ajaxReq(t,"http://api.sabetmikonim.com:8004/panel/logout/","logOut")})});